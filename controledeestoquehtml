<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho</title>
    <link rel="stylesheet" href="stylecarrinho.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!--CÓDIGO GOOGLE FONTS-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Belleza&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <!--FIM GOOGLE FONTS-->
</head>

<body>
    <header id="topo-menu">
        <a href="#"><img src="images/navbar/Logo_Horizontal_Branca.png" class="logo_horizontal_topo" alt="Logo_Horizontal_topo"></a>
        <div>
            <ul id="nav-barra">
                <li><a href="inicio.html">Início</a></li>
                <li><a href="flores.html">Flores</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="sobre.html">Sobre</a></li>
                <li><a href="contato.html">Contato</a></li>
                <li id="bag"><a class="active" href="carrinho.html"><i class="bi bi-bag"></i></a></li>
                <a href="#" id="fechar"><i class="bi bi-x"></i></a>
            </ul>
        </div>
    </header><!--topo-menu-->

    <section id="cart" class="section-p1">
        <table width="100%">
            <thead>
                <tr>
                    <td>remover</td>
                    <td>imagem</td>
                    <td>nome</td>
                    <td>preço</td>
                    <td>quantidade</td>
                    <td>total</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><a href="#"><i class="bi bi-circle"></i></a></td>
                    <td><img src="images/pagina_flores/Amaranthus.jpg" alt=""></td>
                    <td>Amaranthus</td>
                    <td>89,90</td>
                    <td>
                        <!-- Botões de incremento e decremento -->
                        <button type="button" onclick="alterarQuantidade('quantidade-amaranthus', -1)">-</button>
                        <input type="number" value="1" id="quantidade-amaranthus" min="1" onchange="validarQuantidade('amaranthus', 10)">
                        <button type="button" onclick="alterarQuantidade('quantidade-amaranthus', 1)">+</button>
                    </td>
                    <td id="total-amaranthus">89,90</td>
                </tr>
                <tr>
                    <td><a href="#"><i class="bi bi-circle"></i></a></td>
                    <td><img src="images/pagina_flores/Astromélias.jpg" alt=""></td>
                    <td>Astromélias</td>
                    <td>32,90</td>
                    <td>
                        <!-- Botões de incremento e decremento -->
                        <button type="button" onclick="alterarQuantidade('quantidade-astromelias', -1)">-</button>
                        <input type="number" value="1" id="quantidade-astromelias" min="1" onchange="validarQuantidade('astromelias', 5)">
                        <button type="button" onclick="alterarQuantidade('quantidade-astromelias', 1)">+</button>
                    </td>
                    <td id="total-astromelias">32,90</td>
                </tr>
            </tbody>
        </table>

        <!-- Mensagem de erro -->
        <div id="mensagem-erro" style="color: red; display: none;">Quantidade indisponível. Por favor, insira uma quantidade menor.</div>

        <!-- Mensagem de sucesso -->
        <div id="mensagem-sucesso" style="color: green; display: none;">Produto adicionado ao carrinho!</div>
    </section>

    <section id="cart-add" class="section-p1">
        <div id="cupom">
            <h3>aplicar cupom</h3>
            <div>
                <input type="text" placeholder="Digite o CUPOM">
                <button class="normal">aplicar</button>
            </div>
        </div>
        <div id="total">
            <h3>total</h3>
            <table>
                <tr>
                    <td>total</td>
                    <td>122,80</td>
                </tr>
                <tr>
                    <td>frete</td>
                    <td>grátis</td>
                </tr>
                <tr>
                    <td><strong>total</strong></td>
                    <td><strong>122,80</strong></td>
                </tr>
            </table>
        </div>
    </section>
    <footer class="section-p1">
        <div class="col">
            <img src="images/rodape/Logo_Vertical_Rosa.png" class="imagem_rosa" alt="imagem_rosa">
            <h4>Contato</h4>
            <p><strong>Endereço: </strong>Rua Quinze de Março, 123, Madalena - Recife/PE</p>
            <p><strong>Telefone: </strong>(81) 3456-7890 / (81) 9.8765-4321</p>
            <p><strong>Atendimento: </strong>Segunda a Sábado: 08h00 - 18h00h</p>
            <div class="social">
                <h4>Siga-nos nas Redes Sociais</h4>
                <div class="icones-social">
                    <i class="bi bi-facebook"></i>
                    <i class="bi bi-twitter-x"></i>
                    <i class="bi bi-instagram"></i>
                    <i class="bi bi-pinterest"></i>
                    <i class="bi bi-youtube"></i>
                </div>
            </div>
        </div><!--col-contato-->
        <div class="col">
            <h4>Sobre</h4>
            <a href="#">Sobre nós</a>
            <a href="#">Política de Privacidade</a>
            <a href="#">Termos & Condições</a>
            <a href="#">Fale Conoso</a>
        </div><!--col-sobre-->
        <div class="col">
            <h4>Minha Conta</h4>
            <a href="#">Login</a>
            <a href="#">Ver o Carrinho</a>
            <a href="#">Termos & Condições</a>
            <a href="#">Lista de Desejos</a>
            <a href="#">Rastrear meu pedido</a>
            <a href="#">Ajuda</a>
        </div><!--col-conta-->

        <div class="col instalacao">
            <h4>Instale o APP</h4>
            <p>Pela App Store ou Play Store</p>
            <div class="row">
                <img src="images/rodape/appstore.jpg" alt="">
                <img src="images/rodape/playstore.jpg"alt="">
            </div>
            <p>Formas de Pagamento Segura</p>
            <img src="images/rodape/pagamentos.png" alt="">
        </div><!--col-instalação-->

        <div class="direitos-autorais">
            <p>©️2024, Equipe UNINASSAU GRAÇAS - HTML CSS Ecommerce</p>
        </div>
    <footer class="section-p1">
        <!-- conteúdo do rodapé -->
    </footer>

    <script>
        function alterarQuantidade(id, valor) {
            var input = document.getElementById(id);
            var novaQuantidade = parseInt(input.value) + valor;
            var mensagemSucesso = document.getElementById('mensagem-sucesso');

            // Garante que a quantidade não seja menor que 1
            if (novaQuantidade < 1) novaQuantidade = 1;

            input.value = novaQuantidade;

            // Verifica se a quantidade está dentro do limite
            if (novaQuantidade > 10) {
                // Se ultrapassar o limite, exibe a mensagem de erro
                validarQuantidade(id.replace('quantidade-', ''), 10);
            } else {
                // Exibe a mensagem de sucesso se a quantidade estiver disponível
                mensagemSucesso.style.display = 'block';
                setTimeout(function () {
                    mensagemSucesso.style.display = 'none';
                }, 2000); // A mensagem desaparece após 2 segundos
            }

            // Chama a função para validar a quantidade após a alteração
            validarQuantidade(id.replace('quantidade-', ''), id.includes('amaranthus') ? 10 : 5);
        }

        function validarQuantidade(nomeFlor, estoqueMaximo) {
            // Obtém a quantidade inserida pelo usuário
            var inputQuantidade = document.getElementById('quantidade-' + nomeFlor);
            var quantidade = inputQuantidade.value;
            var mensagemErro = document.getElementById('mensagem-erro');

            // Verifica se a quantidade excede o estoque
            if (quantidade > estoqueMaximo) {
                // Exibe a mensagem de erro
                mensagemErro.style.display = 'block';
                // Ajusta a quantidade para o valor máximo disponível
                inputQuantidade.value = estoqueMaximo;
            } else {
                // Caso contrário, esconde a mensagem de erro
                mensagemErro.style.display = 'none';
            }
        }
    </script>

    <script src="script.js"></script>
</body>

</html>
